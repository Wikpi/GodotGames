[gd_scene load_steps=25 format=2]

[ext_resource path="res://Background/SteelBackground.png" type="Texture" id=1]
[ext_resource path="res://Tiles/Steel.png" type="Texture" id=2]
[ext_resource path="res://Level.gd" type="Script" id=3]
[ext_resource path="res://Enemy_robot.tscn" type="PackedScene" id=4]
[ext_resource path="res://Assets/escallator.png" type="Texture" id=5]

[sub_resource type="ConvexPolygonShape2D" id=12]
points = PoolVector2Array( 0, 0, 32, 0, 32, 32, 0, 32 )

[sub_resource type="TileSet" id=13]
0/name = "Steel.png 0"
0/texture = ExtResource( 2 )
0/tex_offset = Vector2( 0, 0 )
0/modulate = Color( 1, 1, 1, 1 )
0/region = Rect2( 0, 0, 32, 32 )
0/tile_mode = 1
0/autotile/bitmask_mode = 0
0/autotile/bitmask_flags = [  ]
0/autotile/icon_coordinate = Vector2( 0, 0 )
0/autotile/tile_size = Vector2( 16, 16 )
0/autotile/spacing = 0
0/autotile/occluder_map = [  ]
0/autotile/navpoly_map = [  ]
0/autotile/priority_map = [  ]
0/autotile/z_index_map = [  ]
0/occluder_offset = Vector2( 0, 0 )
0/navigation_offset = Vector2( 0, 0 )
0/shape_offset = Vector2( 0, 0 )
0/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
0/shape_one_way = false
0/shape_one_way_margin = 0.0
0/shapes = [  ]
0/z_index = 0
1/name = "Steel.png 1"
1/texture = ExtResource( 2 )
1/tex_offset = Vector2( 0, 0 )
1/modulate = Color( 1, 1, 1, 1 )
1/region = Rect2( 0, 0, 32, 32 )
1/tile_mode = 1
1/autotile/bitmask_mode = 0
1/autotile/bitmask_flags = [  ]
1/autotile/icon_coordinate = Vector2( 0, 0 )
1/autotile/tile_size = Vector2( 32, 32 )
1/autotile/spacing = 0
1/autotile/occluder_map = [  ]
1/autotile/navpoly_map = [  ]
1/autotile/priority_map = [  ]
1/autotile/z_index_map = [  ]
1/occluder_offset = Vector2( 0, 0 )
1/navigation_offset = Vector2( 0, 0 )
1/shape_offset = Vector2( 0, 0 )
1/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
1/shape = SubResource( 12 )
1/shape_one_way = false
1/shape_one_way_margin = 1.0
1/shapes = [ {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 12 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
} ]
1/z_index = 0

[sub_resource type="GDScript" id=26]
script/source = "extends Area2D

func _on_first_floor_body_entered(body):
	if body.name == \"Player\":
		get_node(\"..\").go_up = true
		


func _on_first_floor_body_exited(body):
	if body.name == \"Player\":
		get_node(\"..\").go_up = false
"

[sub_resource type="RectangleShape2D" id=27]
extents = Vector2( 34.0251, 12.6377 )

[sub_resource type="GDScript" id=18]
script/source = "extends Area2D

func _on_first_floor_body_entered(body):
	if body.name == \"Player\":
		get_node(\"..\").go_up = true
		


func _on_first_floor_body_exited(body):
	if body.name == \"Player\":
		get_node(\"..\").go_up = false
"

[sub_resource type="RectangleShape2D" id=19]
extents = Vector2( 49.7142, 28.125 )

[sub_resource type="GDScript" id=20]
script/source = "extends Area2D

func _on_first_floor_body_entered(body):
	if body.name == \"Player\":
		get_node(\"..\").go_up = true
		


func _on_first_floor_body_exited(body):
	if body.name == \"Player\":
		get_node(\"..\").go_up = false
"

[sub_resource type="RectangleShape2D" id=21]
extents = Vector2( 31.2422, 19.1284 )

[sub_resource type="GDScript" id=24]
script/source = "extends Area2D

func _on_first_floor_body_entered(body):
	if body.name == \"Player\":
		get_node(\"..\").go_up = true
		


func _on_first_floor_body_exited(body):
	if body.name == \"Player\":
		get_node(\"..\").go_up = false
"

[sub_resource type="RectangleShape2D" id=25]
extents = Vector2( 31.2422, 9.78928 )

[sub_resource type="GDScript" id=22]
script/source = "extends Area2D

func _on_first_floor_body_entered(body):
	if body.name == \"Player\":
		get_node(\"..\").go_up = true
		


func _on_first_floor_body_exited(body):
	if body.name == \"Player\":
		get_node(\"..\").go_up = false
"

[sub_resource type="RectangleShape2D" id=23]
extents = Vector2( 63.5933, 48.7601 )

[sub_resource type="RectangleShape2D" id=1]
extents = Vector2( 300, 10 )

[sub_resource type="RectangleShape2D" id=2]
extents = Vector2( 10, 135 )

[sub_resource type="RectangleShape2D" id=3]
extents = Vector2( 10, 135 )

[sub_resource type="ConvexPolygonShape2D" id=15]
points = PoolVector2Array( 32, 0, 0, 0, 0, 0, 32, 0 )

[sub_resource type="ConvexPolygonShape2D" id=16]
points = PoolVector2Array( 0, 0, 32, 0, 32, 32, 0, 32 )

[sub_resource type="TileSet" id=17]
0/name = "Steel.png 0"
0/texture = ExtResource( 2 )
0/tex_offset = Vector2( 0, 0 )
0/modulate = Color( 1, 1, 1, 1 )
0/region = Rect2( 0, 0, 32, 32 )
0/tile_mode = 1
0/autotile/bitmask_mode = 0
0/autotile/bitmask_flags = [ Vector2( 0, 0 ), 325 ]
0/autotile/icon_coordinate = Vector2( 0, 0 )
0/autotile/tile_size = Vector2( 32, 32 )
0/autotile/spacing = 0
0/autotile/occluder_map = [  ]
0/autotile/navpoly_map = [  ]
0/autotile/priority_map = [  ]
0/autotile/z_index_map = [  ]
0/occluder_offset = Vector2( 0, 0 )
0/navigation_offset = Vector2( 0, 0 )
0/shape_offset = Vector2( 0, 0 )
0/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
0/shape = SubResource( 15 )
0/shape_one_way = false
0/shape_one_way_margin = 1.0
0/shapes = [ {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 15 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 16 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
} ]
0/z_index = 0

[sub_resource type="RectangleShape2D" id=4]
extents = Vector2( 257.735, 10 )

[node name="Level_1" type="StaticBody2D"]
position = Vector2( 103.316, -17.1937 )
collision_mask = 0

[node name="Level" type="Node2D" parent="."]
script = ExtResource( 3 )

[node name="Sprite2" type="Sprite" parent="Level"]
position = Vector2( 478.114, -301.935 )
scale = Vector2( 1.01053, 0.958802 )
texture = ExtResource( 1 )
region_enabled = true
region_rect = Rect2( -155, -1157, 570, 1358 )

[node name="TileMap2" type="TileMap" parent="Level"]
rotation = 1.5708
tile_set = SubResource( 13 )
cell_size = Vector2( 32, 32 )
format = 1
tile_data = PoolIntArray( -1507358, -1610612735, 0, -1507357, -1610612735, 0, -1507356, -1610612735, 0, -1507355, -1610612735, 0, -1507354, -1610612735, 0, -1507353, -1610612735, 0, -1507352, -1610612735, 0, -1507351, -1610612735, 0, -1507350, -1610612735, 0, -1507349, -1610612735, 0, -1507348, -1610612735, 0, -1507347, -1610612735, 0, -1507346, -1610612735, 0, -1507345, -1610612735, 0, -1507344, -1610612735, 0, -1507343, -1610612735, 0, -1507342, -1610612735, 0, -1507341, -1610612735, 0, -1507340, -1610612735, 0, -1507339, -1610612735, 0, -1507338, -1610612735, 0, -1507337, -1610612735, 0, -1507336, -1610612735, 0, -1507335, -1610612735, 0, -1507334, -1610612735, 0, -1507333, -1610612735, 0, -1507332, -1610612735, 0, -1507331, -1610612735, 0, -1507330, -1610612735, 0, -1507329, -1610612735, 0, -1572864, -1610612735, 0, -1572863, -1610612735, 0, -1572862, -1610612735, 0, -1572861, -1610612735, 0, -1572860, -1610612735, 0, -1572859, -1610612735, 0, -1572858, -1610612735, 0, -1572857, -1610612735, 0, -1572856, -1610612735, 0, -1572855, -1610612735, 0, -1572854, -1610612735, 0, -1441822, -1610612735, 0, -1441815, -1610612735, 0, -1441811, -1610612735, 0, -1441803, -1610612735, 0, -1441794, -1610612735, 0, -1507327, -1610612735, 0, -1507320, -1610612735, 0, -1376286, -1610612735, 0, -1376279, -1610612735, 0, -1376275, -1610612735, 0, -1376267, -1610612735, 0, -1376258, -1610612735, 0, -1441791, -1610612735, 0, -1441784, -1610612735, 0, -1310750, -1610612735, 0, -1310743, -1610612735, 0, -1310739, -1610612735, 0, -1310731, -1610612735, 0, -1376255, -1610612735, 0, -1245214, -1610612735, 0, -1245203, -1610612735, 0, -1310719, -1610612735, 0, -1310715, -1610612735, 0, -1179678, -1610612735, 0, -1179667, -1610612735, 0, -1179650, -1610612735, 0, -1245183, -1610612735, 0, -1245179, -1610612735, 0, -1114142, -1610612735, 0, -1114138, -1610612735, 0, -1114133, -1610612735, 0, -1114131, -1610612735, 0, -1114127, -1610612735, 0, -1114121, -1610612735, 0, -1114114, -1610612735, 0, -1179647, -1610612735, 0, -1048606, -1610612735, 0, -1048602, -1610612735, 0, -1048597, -1610612735, 0, -1048595, -1610612735, 0, -1048591, -1610612735, 0, -1048585, -1610612735, 0, -1048579, -1610612735, 0, -1048578, -1610612735, 0, -1114111, -1610612735, 0, -983070, -1610612735, 0, -983066, -1610612735, 0, -983061, -1610612735, 0, -983059, -1610612735, 0, -983055, -1610612735, 0, -983049, -1610612735, 0, -983043, -1610612735, 0, -1048575, -1610612735, 0, -1048571, -1610612735, 0, -917534, -1610612735, 0, -917530, -1610612735, 0, -917523, -1610612735, 0, -917519, -1610612735, 0, -917507, -1610612735, 0, -983039, -1610612735, 0, -983035, -1610612735, 0, -851998, -1610612735, 0, -851994, -1610612735, 0, -851987, -1610612735, 0, -851983, -1610612735, 0, -851982, -1610612735, 0, -851979, -1610612735, 0, -851978, -1610612735, 0, -851977, -1610612735, 0, -851976, -1610612735, 0, -851975, -1610612735, 0, -851974, -1610612735, 0, -851971, -1610612735, 0, -917503, -1610612735, 0, -786462, -1610612735, 0, -786458, -1610612735, 0, -786455, -1610612735, 0, -786451, -1610612735, 0, -786447, -1610612735, 0, -786443, -1610612735, 0, -786439, -1610612735, 0, -786435, -1610612735, 0, -851967, -1610612735, 0, -720926, -1610612735, 0, -720922, -1610612735, 0, -720919, -1610612735, 0, -720918, -1610612735, 0, -720917, -1610612735, 0, -720916, -1610612735, 0, -720915, -1610612735, 0, -720914, -1610612735, 0, -720911, -1610612735, 0, -720907, -1610612735, 0, -720903, -1610612735, 0, -720899, -1610612735, 0, -786431, -1610612735, 0, -786427, -1610612735, 0, -655390, -1610612735, 0, -655386, -1610612735, 0, -655383, -1610612735, 0, -655382, -1610612735, 0, -655381, -1610612735, 0, -655379, -1610612735, 0, -655378, -1610612735, 0, -655375, -1610612735, 0, -655363, -1610612735, 0, -720891, -1610612735, 0, -589854, -1610612735, 0, -589850, -1610612735, 0, -589839, -1610612735, 0, -589827, -1610612735, 0, -524318, -1610612735, 0, -524314, -1610612735, 0, -524303, -1610612735, 0, -524297, -1610612735, 0, -524293, -1610612735, 0, -524291, -1610612735, 0, -458782, -1610612735, 0, -458778, -1610612735, 0, -458776, -1610612735, 0, -458775, -1610612735, 0, -458773, -1610612735, 0, -458772, -1610612735, 0, -458770, -1610612735, 0, -458769, -1610612735, 0, -458767, -1610612735, 0, -458761, -1610612735, 0, -458757, -1610612735, 0, -458755, -1610612735, 0, -458754, -1610612735, 0, -524285, -1610612735, 0, -393246, -1610612735, 0, -393245, -1610612735, 0, -393244, -1610612735, 0, -393243, -1610612735, 0, -393242, -1610612735, 0, -393241, -1610612735, 0, -393240, -1610612735, 0, -393239, -1610612735, 0, -393238, -1610612735, 0, -393237, -1610612735, 0, -393236, -1610612735, 0, -393235, -1610612735, 0, -393234, -1610612735, 0, -393233, -1610612735, 0, -393232, -1610612735, 0, -393231, -1610612735, 0, -393230, -1610612735, 0, -393229, -1610612735, 0, -393228, -1610612735, 0, -393227, -1610612735, 0, -393226, -1610612735, 0, -393225, -1610612735, 0, -393224, -1610612735, 0, -393223, -1610612735, 0, -393222, -1610612735, 0, -393221, -1610612735, 0, -393220, -1610612735, 0, -393219, -1610612735, 0, -393218, -1610612735, 0, -393217, -1610612735, 0, -458752, -1610612735, 0, -458751, -1610612735, 0, -458750, -1610612735, 0, -458749, -1610612735, 0, -458748, -1610612735, 0, -458747, -1610612735, 0, -458746, -1610612735, 0, -458745, -1610612735, 0, -458744, -1610612735, 0, -458743, -1610612735, 0, -458742, -1610612735, 0 )

[node name="Timer" type="Timer" parent="Level"]

[node name="Enemies" type="Node2D" parent="Level"]

[node name="Enemy_robot4" parent="Level/Enemies" instance=ExtResource( 4 )]
position = Vector2( 671.576, -623.127 )

[node name="Enemy_robot3" parent="Level/Enemies" instance=ExtResource( 4 )]
position = Vector2( 477.598, -542.891 )

[node name="Enemy_robot2" parent="Level/Enemies" instance=ExtResource( 4 )]
position = Vector2( 491.972, -159.359 )

[node name="Enemy_robot" parent="Level/Enemies" instance=ExtResource( 4 )]
position = Vector2( 331.018, 297.555 )

[node name="first_floor5" type="Area2D" parent="Level"]
position = Vector2( 267.413, -723.614 )
script = SubResource( 26 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="Level/first_floor5"]
position = Vector2( 18.8855, 2.06732 )
shape = SubResource( 27 )

[node name="first_floor3" type="Area2D" parent="Level"]
position = Vector2( 133.706, -361.807 )
script = SubResource( 18 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="Level/first_floor3"]
position = Vector2( 196.077, -147.773 )
shape = SubResource( 19 )

[node name="first_floor2" type="Area2D" parent="Level"]
position = Vector2( 128.367, -218.979 )
script = SubResource( 20 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="Level/first_floor2"]
position = Vector2( 512.491, 169.879 )
shape = SubResource( 21 )

[node name="first_floor4" type="Area2D" parent="Level"]
position = Vector2( -198.264, -370.308 )
script = SubResource( 24 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="Level/first_floor4"]
position = Vector2( 519.415, 50.2172 )
shape = SubResource( 25 )

[node name="first_floor" type="Area2D" parent="Level"]
script = SubResource( 22 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="Level/first_floor"]
position = Vector2( 287.094, 76.7318 )
shape = SubResource( 23 )

[node name="Ceiling" type="CollisionShape2D" parent="."]
position = Vector2( 470.057, 69.9601 )
shape = SubResource( 1 )

[node name="WallLeft" type="CollisionShape2D" parent="."]
visible = false
position = Vector2( 182.11, 218.748 )
shape = SubResource( 2 )

[node name="WallRight" type="CollisionShape2D" parent="."]
visible = false
position = Vector2( 777.826, 214.459 )
shape = SubResource( 3 )

[node name="TileMap" type="TileMap" parent="."]
visible = false
rotation = 1.5708
tile_set = SubResource( 17 )
cell_size = Vector2( 32, 32 )
format = 1
tile_data = PoolIntArray( -1507318, -1610612736, 0, -1441782, -1610612736, 0, -1376246, -1610612736, 0, -1310710, -1610612736, 0, -1245174, -1610612736, 0, -1179638, -1610612736, 0, -1114102, -1610612736, 0, -1048566, -1610612736, 0, -983030, -1610612736, 0, -917494, -1610612736, 0, -851958, -1610612736, 0, -786422, -1610612736, 0, -720886, -1610612736, 0, -655350, -1610612736, 0, -589814, -1610612736, 0, -524278, -1610612736, 0 )

[node name="EscalatorPlatform" type="Sprite" parent="."]
position = Vector2( 479.833, 335.646 )
scale = Vector2( 1.33404, 1.01965 )
texture = ExtResource( 5 )

[node name="Floor" type="CollisionShape2D" parent="."]
visible = false
position = Vector2( 478.989, 330.695 )
shape = SubResource( 4 )

[connection signal="body_entered" from="Level/first_floor5" to="Level/first_floor5" method="_on_first_floor_body_entered"]
[connection signal="body_exited" from="Level/first_floor5" to="Level/first_floor5" method="_on_first_floor_body_exited"]
[connection signal="body_entered" from="Level/first_floor3" to="Level/first_floor3" method="_on_first_floor_body_entered"]
[connection signal="body_exited" from="Level/first_floor3" to="Level/first_floor3" method="_on_first_floor_body_exited"]
[connection signal="body_entered" from="Level/first_floor2" to="Level/first_floor2" method="_on_first_floor_body_entered"]
[connection signal="body_exited" from="Level/first_floor2" to="Level/first_floor2" method="_on_first_floor_body_exited"]
[connection signal="body_entered" from="Level/first_floor4" to="Level/first_floor4" method="_on_first_floor_body_entered"]
[connection signal="body_exited" from="Level/first_floor4" to="Level/first_floor4" method="_on_first_floor_body_exited"]
[connection signal="body_entered" from="Level/first_floor" to="Level/first_floor" method="_on_first_floor_body_entered"]
[connection signal="body_exited" from="Level/first_floor" to="Level/first_floor" method="_on_first_floor_body_exited"]
